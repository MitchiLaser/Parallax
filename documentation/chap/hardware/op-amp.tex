\section{Operational Amplifier}

The Operational Amplifier is one of the mostly used active electronic component\footnote{Active components need a supply voltage whereas passive components don't need a connection to a power supply}. Op-amps can be used in a variety of ways. Therefore only the applications used in this project will be explained here. Let's take a look at the operational amplifier in \cref{fig:op_amp}: It has two inputs, an inverting and a non-inverting one, and an output.

\begin{figure}[htb]
	\centering
	\begin{tikzpicture}
		\draw (0,0) node[op amp] (opamp) {}
			(opamp.+) -- + (-0.5,0) node[left] {$U_+$}
			(opamp.-) -- + (-0.5,0) node[left] {$U_-$}
			(opamp.out) -- + (0.5,0) node[right] {$U_{out}$}
			(opamp.up) -- + (0,0.5) node[vcc] {$V_{cc}$}
			(opamp.down) -- + (0,-0.5) node[vee] {$V_{ee}$}
		;
	\end{tikzpicture}
	\caption{Operational Amplifier}
	\label{fig:op_amp}
\end{figure}

An operational amplifier can only be used in a configuration where the output voltage is connected to an input and creates a feedback loop. Here the golden rules of the ideal operational amplifier describe its behavior:
\begin{enumerate}
	\item There is no current going into the inputs
	\item the output tries to bring the voltage between the two input pins to $\SI{0}{V}$
\end{enumerate}

Both rules only apply when the op-amp is used with a feedback loop. Otherwise the behavior cannot be determined this way. The first rule is just an approximation because the input resistance cannot be infinitely high (in reality an op-amp has an input bias current). We assume that this is true in our model to describe the functionality of an op-amp and for practical applications the input impedance can be looked up in the data sheet. There are two op-amp circuits being used for the oscilloscope: the voltage follower and the non-inverting amplifier.

\subsection{Op-Amp as a Voltage follower}

The voltage follower can be seen in \cref{fig:voltage-follower}.

\begin{figure}[htb]
	\centering
	\begin{tikzpicture}
		\draw (0,0) node[op amp] (opamp) {}
			(opamp.out) -- ++ (0.5,0) node[right] {$U_{out}$}
			(opamp.up) -- ++ (0,0.5) node[vcc] {$V_{cc}$}
			(opamp.down) -- ++ (0,-0.5) node[vee] {$V_{ee}$}
			(opamp.-) -- ++ (-0.5,0) node[left] {$U_-$}
			-- ++ (0,2)
			-| (opamp.out) node {$\bullet$}
			(opamp.+) ++ (-0.5,-1.5) node[ground] (gnd) {}
			(opamp.+) -- ++ (-0.5,0) node[left] {$U_+$}
			-- ++ (0,-0.5)
			to[sV, l_=$U_{in}$] (gnd)
		;
	\end{tikzpicture}
	\caption{Op-Amp as a Voltage follower}
	\label{fig:voltage-follower}
\end{figure}

We assume that for our ideal op-amp the first rule applies: There is no current flowing from the output to the input because the input has an infinitely high impedance. The second rule explains which voltage the op-amp will deliver on its output: the output voltage is going to minimize the voltage difference between the two inputs so that $U_+ - U_- = \SI{0}{V}$ or $U_+ = U_-$. Therefore the output voltage generated by the op-amp is equal to the input voltage.

What is the purpose of this circuit when the output voltage and the input voltage are equal in the end? The main reason to use this circuit is a buffer. Sometimes a voltage source can only provide small currents or even no current at all. The high input impedance of the op-amp makes it suitable to replicate this voltage without drawing too much current. The output of an op-amp has a low impedance, therefore this use case is also called an \glqq{}impedance converter\grqq{}.

Here is an example of how to use this buffer properly: A voltage divider can be used to provide a reference voltage for some purpose. The attenuator cannot be used as a voltage source because it would act as a load resistor which implies a change of the voltage divider itself. \cref{fig:attenuator-buffer} shows how to attach a voltage follower to this circuit. This allows to draw a current from the op-amp which has an output voltage equal to the voltage of the attenuator. In this sketch the power supply connections of the op-amp have been left out. This is done a lot of times in circuits because the connection to a power supply is necessary for an op-amp and therefore has not to be specialised separately.

\begin{figure}[htb]
	\centering
	\begin{tikzpicture}
		\draw (0,0) node[op amp] (opamp) {}
			(opamp.-) -- ++ (0,1.5)
			-| (opamp.out) node {$\bullet$}
			-- ++ (0.5,0) node[right] {$U_{out}$}
			(opamp.+) -- ++ (-1,0) node {$\bullet$} coordinate (A)
			to[resistor, l=$R_1$] ++ (0,2) node[vcc] {$V_{cc}$}
			(A) ++ (0,-2) node[ground] {} to[resistor, l=$R_2$] (A)
		;
	\end{tikzpicture}
	\caption{Voltage follower as a buffer}
	\label{fig:attenuator-buffer}
\end{figure}

If the input voltage $V_{cc}$ is constant and has no time dependency it would be recommended to add a capacitor at the non-inverting input of the op-amp. This would stabilize the voltage and filter out some small fluctuations and instabilities.

\subsection{Op-Amp as a non-inverting amplifier}

Amplification of input signals is another important task for an op-amp. There are multiple ways to perform an amplification. Here the non-inverting amplifier circuit is going to be explained.

\todo[inline]{Describe the non-inverting amplifier and where the formula comes from and also state why tne non-inverting amplifier is not being used in this approach}
